// =======================================================================================
// Wovencore by Wovencode (c)
// =======================================================================================
using System;
using UnityEngine;
using UnityEngine.UI;
using woco.core;

namespace woco.core
{
	
	// ===================================================================================
	// UnitWidget
	// ===================================================================================
	public partial class UnitWidget : _BaseWidget
	{
	
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
		// PROPERTIES
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
		
		public Button 	button;
		public Image 	icon;
		public Text 	textGrade;
		public Text 	textLevel;
		
		protected UnitDetailWindow window;
		protected UnitInstance instance;
		
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
		// 
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
	
		// -------------------------------------------------------------------------------
		// 
		// -------------------------------------------------------------------------------


		// -------------------------------------------------------------------------------
		// 
		// -------------------------------------------------------------------------------

		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
		// EVENTS
		// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
		
		
		// -------------------------------------------------------------------------------
		// OnClick
		// -------------------------------------------------------------------------------
        protected void OnClick() {
        	window.Show(instance);
        }
		
		// -------------------------------------------------------------------------------
		// OnInit
		// -------------------------------------------------------------------------------
		public void OnInit(UnitInstance _instance, GameObject _window)
		{
		
			instance = _instance;
			window = _window.GetComponent<UnitDetailWindow>();
			
			icon.sprite = instance.template.smallIcon;
			
			textGrade.text = instance.grade.ToString();
			textLevel.text = instance.level.ToString();
			
			button.onClick.AddListener(OnClick);
		
		}

		// -------------------------------------------------------------------------------

	}
	
	// ===================================================================================
	
}
